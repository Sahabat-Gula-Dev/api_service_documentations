<h1>Article Service</h1>
<p>
  Endpoint-endpoint ini digunakan untuk mengelola semua data yang berkaitan
  dengan artikel, mulai dari melihat daftar, menambah, mengubah, hingga
  menghapus data artikel dan kategorinya.
</p>

<h2>Articles</h2>
<div class="endpoint-card">
  <div class="endpoint-header">
    <span class="endpoint-method method-post">POST</span>
    <span class="endpoint-path">/articles</span>
  </div>
  <div class="endpoint-body">
    <h3>Tambah Artikel Baru</h3>
    <p>
      Menambahkan artikel baru ke dalam database. Endpoint ini memerlukan
      otorisasi dan mengirim data sebagai
      <code>multipart/form-data</code> karena ada upload gambar sampul (cover).
    </p>
    <div class="auth-badge">
      Authorization: <span class="auth-required">Bearer Token</span>
    </div>
    <h3>Request Body <code>multipart/form-data</code></h3>
    <table>
      <thead>
        <tr>
          <th>Key</th>
          <th>Tipe</th>
          <th>Deskripsi</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td><code>title</code></td>
          <td>string</td>
          <td>Judul artikel. <span class="required">Wajib.</span></td>
        </tr>
        <tr>
          <td><code>cover_file</code></td>
          <td>file</td>
          <td>File gambar sampul. Opsional.</td>
        </tr>
        <tr>
          <td><code>content</code></td>
          <td>string</td>
          <td>
            Isi konten artikel, biasanya dalam format JSON dari editor teks.
            Opsional.
          </td>
        </tr>
        <tr>
          <td><code>category_id</code></td>
          <td>integer</td>
          <td>
            ID kategori yang sudah ada. Opsional, salah satu dari
            <code>category_id</code> atau <code>category_name</code> harus ada.
          </td>
        </tr>
        <tr>
          <td><code>category_name</code></td>
          <td>string</td>
          <td>Nama kategori baru yang akan dibuat. Opsional.</td>
        </tr>
      </tbody>
    </table>
    <h3>Success Response <code>201 Created</code></h3>
    <pre><code>{
    "status": "success",
    "message": "Artikel berhasil ditambahkan.",
    "data": {
        "article": {
            "id": "4cf03cd0-ecb4-4842-9d99-97d7a985f4bc",
            "author_id": "b20542c9-4386-4636-b906-863f36cbc7dd",
            "title": "Manfaat Tidur Cukup",
            "cover_url": "https://url.supabase.co/storage/v1/object/public/articles/image.jpg",
            "content": "{\"ops\":[{\"insert\":\"Konten artikel di sini...\\n\"}]}",
            "created_at": "2025-09-20T15:30:00.000Z",
            "category_id": 1
        }
    }
}</code></pre>
  </div>
</div>

<div class="endpoint-card">
  <div class="endpoint-header">
    <span class="endpoint-method method-get">GET</span>
    <span class="endpoint-path">/articles</span>
  </div>
  <div class="endpoint-body">
    <h3>Daftar Artikel</h3>
    <p>
      Mengambil daftar artikel dengan dukungan pagination, pencarian (query
      `q`), dan filter. Misalnya mencari artikel tentang "diabetes" maka
      <code>/articles?q=diabetes</code>.
    </p>
    <div class="auth-badge">
      Authorization: <span class="auth-none">None</span>
    </div>
    <h3>Query Parameters</h3>
    <table>
      <thead>
        <tr>
          <th>Key</th>
          <th>Tipe</th>
          <th>Deskripsi</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td><code>q</code></td>
          <td>string</td>
          <td>Teks pencarian untuk judul atau konten. Opsional.</td>
        </tr>
        <tr>
          <td><code>category_id</code></td>
          <td>integer</td>
          <td>Filter berdasarkan ID kategori. Opsional.</td>
        </tr>
        <tr>
          <td><code>category_name</code></td>
          <td>string</td>
          <td>Filter berdasarkan nama kategori. Opsional.</td>
        </tr>
        <tr>
          <td><code>page</code></td>
          <td>integer</td>
          <td>Nomor halaman. Default: 1. Opsional.</td>
        </tr>
        <tr>
          <td><code>limit</code></td>
          <td>integer</td>
          <td>Jumlah item per halaman. Default: 20. Opsional.</td>
        </tr>
        <tr>
          <td><code>sort</code></td>
          <td>string</td>
          <td>
            Urutan pengurutan. Contoh: <code>title.asc</code>. Default:
            <code>created_at.desc</code>. Opsional.
          </td>
        </tr>
      </tbody>
    </table>
    <h3>Success Response <code>200 OK</code></h3>
    <pre><code>{
    "status": "success",
    "data": [
        {
            "id": "4cf03cd0-ecb4-4842-9d99-97d7a985f4bc",
            "author_id": "b20542c9-4386-4636-b906-863f36cbc7dd",
            "title": "Manfaat Tidur Cukup",
            "cover_url": "https://url.supabase.co/storage/v1/object/public/articles/image.jpg",
            "content": "{\"ops\":[{\"insert\":\"Konten artikel di sini...\\n\"}]}",
            "created_at": "2025-09-20T15:30:00.000Z",
            "category_id": 1,
            "article_categories": {
                "id": 1,
                "name": "Gaya Hidup Sehat"
            }
        }
    ],
    "meta": { "page": 1, "limit": 20, "total": 30 }
}</code></pre>
  </div>
</div>

<div class="endpoint-card">
  <div class="endpoint-header">
    <span class="endpoint-method method-get">GET</span>
    <span class="endpoint-path">/articles/{id}</span>
  </div>
  <div class="endpoint-body">
    <h3>Detail Artikel</h3>
    <p>Mengambil detail satu data artikel berdasarkan ID-nya.</p>
    <div class="auth-badge">
      Authorization: <span class="auth-none">None</span>
    </div>
    <h3>Success Response <code>200 OK</code></h3>
    <pre><code>{
    "status": "success",
    "data": {
        "article": {
            "id": "4cf03cd0-ecb4-4842-9d99-97d7a985f4bc",
            "author_id": "b20542c9-4386-4636-b906-863f36cbc7dd",
            "title": "Manfaat Tidur Cukup",
            "cover_url": "https://url.supabase.co/storage/v1/object/public/articles/image.jpg",
            "content": "{\"ops\":[{\"insert\":\"Konten artikel di sini...\\n\"}]}",
            "created_at": "2025-09-20T15:30:00.000Z",
            "category_id": 1,
            "article_categories": {
                "id": 1,
                "name": "Gaya Hidup Sehat"
            }
        }
    }
}</code></pre>
  </div>
</div>

<div class="endpoint-card">
  <div class="endpoint-header">
    <span class="endpoint-method method-put">PUT</span>
    <span class="endpoint-path">/articles/{id}</span>
  </div>
  <div class="endpoint-body">
    <h3>Perbarui Artikel</h3>
    <p>
      Memperbarui data artikel berdasarkan ID. Semua field bersifat opsional
      (kirim hanya yang ingin diubah).
    </p>
    <div class="auth-badge">
      Authorization: <span class="auth-required">Bearer Token</span>
    </div>
    <h3>Request Body <code>multipart/form-data</code></h3>
    <p>
      Sama seperti request body untuk <code>POST /articles</code>, tetapi semua
      field bersifat opsional.
    </p>
    <h3>Success Response <code>200 OK</code></h3>
    <pre><code>{
    "status": "success",
    "message": "Artikel berhasil diperbarui.",
    "data": {
        "article": {
            "id": "4cf03cd0-ecb4-4842-9d99-97d7a985f4bc",
            "author_id": "b20542c9-4386-4636-b906-863f36cbc7dd",
            "title": "Manfaat Tidur Yang Cukup",
            "cover_url": "https://url.supabase.co/storage/v1/object/public/articles/image.jpg",
            "content": "{\"ops\":[{\"insert\":\"Konten artikel di sini...\\n\"}]}",
            "created_at": "2025-09-20T15:30:00.000Z",
            "category_id": 1,
            "article_categories": {
                "id": 1,
                "name": "Gaya Hidup Sehat"
            }
        }
    }
}</code></pre>
  </div>
</div>

<div class="endpoint-card">
  <div class="endpoint-header">
    <span class="endpoint-method method-delete">DELETE</span>
    <span class="endpoint-path">/articles/{id}</span>
  </div>
  <div class="endpoint-body">
    <h3>Hapus Artikel</h3>
    <p>Menghapus data artikel secara permanen berdasarkan ID.</p>
    <div class="auth-badge">
      Authorization: <span class="auth-required">Bearer Token</span>
    </div>
    <h3>Success Response <code>200 OK</code></h3>
    <pre><code>{
    "status": "success",
    "message": "Artikel berhasil dihapus."
}</code></pre>
  </div>
</div>

<h2>Article Categories</h2>
<div class="endpoint-card">
  <div class="endpoint-header">
    <span class="endpoint-method method-get">GET</span>
    <span class="endpoint-path">/article-categories</span>
  </div>
  <div class="endpoint-body">
    <h3>Daftar Kategori Artikel</h3>
    <p>Mengambil daftar semua kategori artikel.</p>
    <div class="auth-badge">
      Authorization: <span class="auth-none">None</span>
    </div>
    <h3>Success Response <code>200 OK</code></h3>
    <pre><code>{
    "status": "success",
    "data": [
        { "id": 1, "name": "Gaya Hidup Sehat" },
        { "id": 2, "name": "Penyakit Diabetes" }
    ]
}</code></pre>
  </div>
</div>

<div class="endpoint-card">
  <div class="endpoint-header">
    <span class="endpoint-method method-post">POST</span>
    <span class="endpoint-path">/article-categories</span>
  </div>
  <div class="endpoint-body">
    <h3>Buat Kategori Artikel Baru</h3>
    <p>Menambahkan kategori artikel baru.</p>
    <div class="auth-badge">
      Authorization: <span class="auth-required">Bearer Token</span>
    </div>
    <h3>Request Body <code>application/json</code></h3>
    <table>
      <thead>
        <tr>
          <th>Key</th>
          <th>Tipe</th>
          <th>Deskripsi</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td><code>name</code></td>
          <td>string</td>
          <td>Nama kategori baru. <span class="required">Wajib.</span></td>
        </tr>
      </tbody>
    </table>
    <h3>Success Response <code>201 Created</code></h3>
    <pre><code>{
    "status": "success",
    "message": "Kategori berhasil ditambahkan.",
    "data": {
        "category": { "id": 3, "name": "Nutrisi" }
    }
}</code></pre>
  </div>
</div>
